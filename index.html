<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>reveal.js</title>
    <link rel="stylesheet" href="dist/reset.css" />
    <link rel="stylesheet" href="dist/reveal.css" />
    <link rel="stylesheet" href="dist/csshake.min.css" />
    <link rel="stylesheet" href="dist/theme/white.css" />
    <link
      rel="preload"
      href="./dist/theme/fonts/work/subset-YanoneKaffeesatz-ExtraLight.woff2"
      as="font"
      type="font/woff2"
      crossorigin
    />
    <link rel="stylesheet" href="plugin/highlight/monokai.css" />
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section data-background="./img/quixote.png" data-auto-animate>
          <h2>Как отдать технический долг</h2>
        </section>
        <section data-background="./img/quixote.png" data-auto-animate>
          <h2>Как отдать технический долг</h2>
        </section>
        <section>
          <ul>
            <li>Никита Сидоров (Яндекс Маркет)</li>
            <li>Алексей Золотых (МойОфис)</li>
            <li>Семен Левенсон (Яндекс Маркет)</li>
          </ul>
        </section>
        <section>
          <img src="./img/holyjs.svg" alt="HolyJS" />
        </section>
        <section>
          <h2>Тяжелое утро c HolyJS</h2>
          <img src="./img/podcast.jpeg" alt="Podcast Тяжелое утро HolyJS" />
        </section>
        <section data-transition="none">
          <h2>План</h2>
          <ol>
            <li class="fragment">Что такое технический долг</li>
            <li class="fragment">Где встречается</li>
            <li class="fragment">Какой бывает</li>
            <li class="fragment">Есть мнение что его не бывает</li>
            <li class="fragment">Способы борьбы</li>
            <li class="fragment">Полезняшки</li>
          </ol>
        </section>
        <section>Технический долг - сломанная метфора</section>
        <section data-auto-animate>
          <aside class="notes">
            это попытка всеобъемлющей и подробной формализации некоторой области
            знаний с помощью концептуальной схемы
          </aside>
          <h3>Онтология технического долга</h3>
          <ul style="columns: 2">
            <li>Architecture Debt</li>
            <li>Build Debt</li>
            <li>Code Debt</li>
            <li>Defect Debt</li>
            <li>Design Debt</li>
            <li>Documentation Debt</li>
            <li>Infrastructure Debt</li>
            <li>People Debt</li>
            <li>Process Debt</li>
            <li>Requirement Debt</li>
            <li>Service Debt</li>
            <li>Test Automation Debt</li>
            <li>Test Debt</li>
          </ul>
          <p>
            <a href="https://shorturl.at/kuFS3">https://shorturl.at/kuFS3</a>
          </p>
        </section>
        <section>
          <h2>Какой?</h2>
          <p class="fragment">Осмысленный vs Бездумный</p>
          <p class="fragment">Известный или неизвестный</p>
        </section>
        <section>Работает ли правило бойскаута?</section>
        <section>Когда нужно заводить в Jira?</section>
        <section>
          <h2>Есть и такое мнение</h2>
          <p>
            <a href="https://shorturl.at/cgky5">shorturl.at/cgky5</a>
          </p>
          <img style="height: 10em" src="img/td.png" alt="" />
        </section>
        <section><h2>Как бороться?</h2></section>
        <section>
          Спросить у команды или померить?
        </section>
        <section>
          <h2>ASA</h2>
        </section>
        <section>
          <p>Что ищем?</p>
          <ul>
            <li class="fragment">Code style</li>
            <li class="fragment">Антипаттерны</li>
            <li class="fragment">CodeSmells</li>
            <li class="fragment">Ошибки безопасности</li>
            <li class="fragment">DRY</li>
          </ul>
        </section>
        <section>
          <img src="img/sonar.png" alt="Sonar screenshot" />
        </section>
        <section>
          <h2>Awesome ASA</h2>
          <a href="https://github.com/analysis-tools-dev/static-analysis"
            >github.com/analysis-tools-dev/static-analysis</a
          >
        </section>
        <section>Стоит ли использовать и когда использовать?</section>
        <section data-auto-animate>
          <aside class="notes">
            Все метрики сводятся к игре вокруг кол-ва чего-либо в абстрактных
            синтаксических деревьях
          </aside>
          <h3>Метрики кода</h3>
        </section>
        <section>
          <p>
            Low Coupling (низкая связанность) и High Cohesion (высокое
            зацепление)
          </p>
        </section>
        <section>
          <img style="height: 10em" src="img/1.png" alt="" />
        </section>
        <section>
          <p>1. Идеальная ситуация</p>
          <img style="height: 10em" src="img/2.png" alt="" />
        </section>
        <section>
          <p>2. Все в одном</p>
          <img style="height: 10em" src="img/3.png" alt="" />
        </section>
        <section>
          <p>3. Неправильные границы</p>
          <img style="height: 10em" src="img/4.png" alt="" />
        </section>
        <section>
          <p>4. Мастер SOLID</p>
          <img style="height: 10em" src="img/5.png" alt="" />
        </section>
        <section>
          <h2>Что мерить и как оценивать?</h2>
          <ul>
            <li class="fragment">Cyclomatic and Cognitive complexity</li>
            <li class="fragment">Кол-во импортов</li>
            <li class="fragment">Кол-во строк</li>
            <li class="fragment">Покрытие тестами</li>
          </ul>
        </section>
        <section>
          <h2>Code Churn</h2>
          <ul>
            <li class="fragment">Стоит ли?</li>
            <li class="fragment">Какие выводы делать?</li>
          </ul>
        </section>
        <section>
          <p>Структурный поиск</p>
          <a href="https://semgrep.dev">semgrep.dev</a>
        </section>
        <section>
          <h2>Angular 1.*</h2>
          <pre><code data-trim data-noescape data-line-numbers="1-9|3">
rules:
    - id: legacy_metrics.angular_modules
      pattern-regex: angular(?:(?:\n\s*)|)\.module|ngInject
      message: Angular module was found
      languages:
          - javascript
          - typescript
      severity: WARNING
          </code></pre>
        </section>
        <section>
          <h2>Grafana + Clickhouse</h2>
          <img src="img/angular.png" alt="" />
        </section>

        <section>
          <img
            style="height: 10em"
            src="img/semgrep.png"
            alt="semgrep example"
          />
        </section>
        <section
          data-transition="fade-in slide-out"
          data-background-color="#030303"
        >
          <h1>5. Полезняшки</h1>
        </section>
        <section>
          <h2>Sonarqube Community Branch Plugin</h2>
          <p>https://github.com/mc1arke/sonarqube-community-branch-plugin</p>
          <pre><code data-trim data-noescape data-line-numbers="1-40|7|26-36">
version: "3.8"

services:
  sonarqube:
    depends_on:
      - db
    image: mc1arke/sonarqube-with-community-branch-plugin:${SONARQUBE_VERSION}
    build:
      context: .
      dockerfile: ${DOCKERFILE}
      args:
        SONARQUBE_VERSION: ${SONARQUBE_VERSION}
        PLUGIN_VERSION: ${PLUGIN_VERSION}
    container_name: sonarqube
    ports:
      - 9000:9000
    networks:
      - sonarnet
    environment:
      - SONAR_JDBC_URL=jdbc:postgresql://db:5432/sonar
      - SONAR_JDBC_USERNAME=sonar
      - SONAR_JDBC_PASSWORD=sonar
    volumes:
      - sonarqube_conf:/opt/sonarqube/conf
      - sonarqube_data:/opt/sonarqube/data
  db:
    image: postgres:11
    container_name: postgres
    networks:
      - sonarnet
    environment:
      - POSTGRES_USER=sonar
      - POSTGRES_PASSWORD=sonar
    volumes:
      - postgresql:/var/lib/postgresql
      - postgresql_data:/var/lib/postgresql/data

volumes:
  sonarqube_conf:
  sonarqube_data:
  postgresql:
  postgresql_data:

networks:
  sonarnet:
          </code></pre>
        </section>
        <section>
          <p>Бас фактор</p>
          <p>
            <a href="https://github.com/onigoetz/absorption"
              >github.com/onigoetz/absorption</a
            >
          </p>
          <pre><code data-trim data-escape>
absorption /Users/onigoetz/Sites/Libs/crafty --weights weights.json --contributors contributors.json
Scanning ████████████████████████████████████████ | 100% | 492/492 files

The repository's absorption score is 16% fresh, 84% fading and 0% lost

Fresh/Fading knowledge

 Name               │    Total │    Fresh │   Fading 
────────────────────┼──────────┼──────────┼──────────
 Stéphane Goetz     │  99.51 % │  15.67 % │  83.83 % 
 Vitalii Shapovalov │   0.14 % │   0.14 % │   0.00 % 
          </code></pre>
        </section>
        <section>
          <p>Работаем с JSON</p>
          <p>
            <a href="https://github.com/discoveryjs">github.com/discoveryjs</a>
          </p>
          <p class="fragment">
            <a href="https://github.com/discoveryjs/scan-git">scan-git</a>
          </p>
          <img src="img/discovery.png" alt="" />
        </section>
        <section>
          <p>Другие тулы для структурного поиска</p>
          <ul>
            <li><a href="https://codeql.github.com/">codeql.github.com</a></li>
            <li><a href="https://comby.dev/">comby.dev</a></li>
          </ul>
        </section>
        <section>
          <h3>Кол-во строк</h3>
          <p>
            <a href="https://github.com/XAMPPRocky/tokei"
              >github.com/XAMPPRocky/tokei</a
            >
          </p>
        </section>
        <section>
          <h3>git-stats</h3>
          <a href="https://github.com/IonicaBizau/git-stats"
            >github.com/IonicaBizau/git-stats</a
          >
        </section>
      </div>
    </div>
    <script src="dist/reveal.js"></script>
    <script src="plugin/notes/notes.js"></script>
    <script src="plugin/markdown/markdown.js"></script>
    <script src="plugin/highlight/highlight.js"></script>
    <script>
      // More info about initialization & config:
      // - https://revealjs.com/initialization/
      // - https://revealjs.com/config/
      Reveal.initialize({
        hash: true,
        slideNumber: true,

        // Learn about plugins: https://revealjs.com/plugins/
        plugins: [RevealMarkdown, RevealHighlight, RevealNotes],
      });
    </script>
  </body>
</html>
